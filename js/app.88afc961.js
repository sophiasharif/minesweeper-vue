(function(){"use strict";var e={3122:function(e,t,i){var n=i(9242),s=i(3396);const r={id:"game"};function o(e,t,i,n,o,l){const a=(0,s.up)("minesweeper-game");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(a,{class:"game"})])}var l=i(7139);function a(e,t,i,n,r,o){const a=(0,s.up)("game-toolbar"),h=(0,s.up)("minesweeper-cell"),d=(0,s.up)("game-end");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(a,{ref:"toolbar","num-mines":r.numMines,width:o.boardWidth},null,8,["num-mines","width"]),(0,s._)("div",{style:(0,l.j5)({width:o.boardWidth,height:o.boardHeight})},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.height,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.width,(t=>((0,s.wg)(),(0,s.j4)(h,{key:t*r.width+e,ref_for:!0,ref:"cells",coords:[t-1,e-1],"side-length":r.cellSideLength,"cells-locked":r.cellsLocked,onCellRevealed:o.cellRevealed,onUpdateMarked:o.updateMarked},null,8,["coords","side-length","cells-locked","onCellRevealed","onUpdateMarked"])))),128))])))),128))],4),r.gameStatus?((0,s.wg)(),(0,s.j4)(d,{key:0,type:r.gameStatus,width:o.boardWidth,onPlayAgain:o.startGame},null,8,["type","width","onPlayAgain"])):(0,s.kq)("",!0)],64)}function h(e,t,i,n){const s=[[e+1,t+1],[e+1,t],[e+1,t-1],[e,t+1],[e,t-1],[e-1,t+1],[e-1,t],[e-1,t-1]],r=[];return s.forEach((function(e){const t=e[0],s=e[1];t>=0&&s>=0&&t<i&&s<n&&r.push([t,s])})),r}function d(e,t,i){return t*i+e}function c(e,t){const i=e.length;function n(){const t=Math.floor(Math.random()*e.length),i=e.splice(t,1)[0];return i}e.splice(-t.length);let s=[];for(let r=0;r<i;r++)t.includes(r)?s.push(!1):s.push(n());return s}function u(e,t,i,n){let s=[];for(let l=0;l<i;l++)s.push(!0);while(s.length<t*e)s.push(!1);const r=c(s,n);let o=[];for(let l=0;l<e;l++){const e=l*t,i=e+t;o.push(r.slice(e,i))}return o}const f={key:1};function g(e,t,i,r,o,a){return(0,s.wg)(),(0,s.iD)("div",{class:"cell",style:(0,l.j5)({backgroundColor:a.backgroundColor,width:a.sideLengthPX,height:a.sideLengthPX}),onClick:t[0]||(t[0]=(...e)=>a.reveal&&a.reveal(...e)),onContextmenu:t[1]||(t[1]=(0,n.iM)(((...e)=>a.mark&&a.mark(...e)),["right"]))},[o.revealed?((0,s.wg)(),(0,s.iD)("p",{key:0,style:(0,l.j5)({color:a.numColor})},(0,l.zw)(0===Number(o.label)?"":o.label),5)):o.marked?((0,s.wg)(),(0,s.iD)("p",f,"*")):(0,s.kq)("",!0)],36)}document.addEventListener("contextmenu",(e=>e.preventDefault()));var p={props:{coords:{type:Array,required:!0},sideLength:{type:Number,required:!0},cellsLocked:{type:Boolean,required:!0}},data(){return{revealed:!1,marked:!1,isLight:(this.coords[0]+this.coords[1])%2===0,isMine:!1,label:"D"}},computed:{backgroundColor(){return this.isMine&&this.revealed?"#DC143C":(this.coords[0]+this.coords[1])%2===0?this.revealed?"#E0DCB0":"#77BE77":this.revealed?"#EFE8B9":"#92DF90"},numColor(){const e=["","blue","darkgreen","red","purple","maroon","cyan","black","dim gray"];return e[Number(this.label)]},sideLengthPX(){return this.sideLength.toString()+"px"}},methods:{reveal(){this.revealed||this.marked||this.cellsLocked||(this.revealed=!0,this.$emit("cellRevealed",this.coords,this.isMine,this.label))},mark(){this.revealed||this.cellsLocked||(this.marked?(this.marked=!1,this.$emit("updateMarked",1)):(this.marked=!0,this.$emit("updateMarked",-1)))}}},m=i(89);const v=(0,m.Z)(p,[["render",g],["__scopeId","data-v-0ef107b4"]]);var w=v;function k(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",{class:"toolbar",style:(0,l.j5)({width:i.width})},[(0,s._)("p",null,"Mines Left: "+(0,l.zw)(r.numFlags),1)],4)}var b={props:{numMines:{type:Number,required:!0},width:{type:String,required:!0}},data(){return{numFlags:this.numMines}},methods:{updateFlags(e){this.numFlags=this.numFlags+e},setUpGame(e){this.$emit("setUpGame",e)}}};const y=(0,m.Z)(b,[["render",k],["__scopeId","data-v-2842f076"]]);var M=y;function L(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",{class:"toolbar",style:(0,l.j5)({width:i.width})},[(0,s._)("p",null,(0,l.zw)(o.endMessage),1),(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>o.playAgain&&o.playAgain(...e))},"Play Again")],4)}var C={props:["type","width"],computed:{endMessage(){return"win"===this.type?"Congratulations!":"Game Over!"}},methods:{playAgain(){this.$emit("playAgain")}}};const S=(0,m.Z)(C,[["render",L],["__scopeId","data-v-1f6f074c"]]);var _=S,D={components:{MinesweeperCell:w,GameToolbar:M,GameEnd:_},data(){return{height:12,width:14,numMines:40,cellSideLength:50,numRevealed:0,gameStatus:"",cellsLocked:!1,firstClickHappened:!1,field:[]}},computed:{cellsLeft(){return this.width*this.height-this.numMines-this.numRevealed},boardWidth(){return(this.width*this.cellSideLength).toString()+"px"},boardHeight(){return(this.height*this.cellSideLength).toString()+"px"}},watch:{cellsLeft(e){0===e&&(this.gameStatus="win",this.cellsLocked=!0)}},methods:{assignLabel(e,t){if(this.field[t][e])return"*";const i=h(e,t,this.width,this.height);let n=0;for(let s=0;s<i.length;s++){const e=i[s][1],t=i[s][0];this.field[e][t]&&n++}return n.toString()},cellRevealed(e,t,i){if(!this.firstClickHappened){console.log("FIRST IF BLOCK: "+t);const n=d(e[0],e[1],this.width);let s=[n];const r=h(e[0],e[1],this.width,this.height);for(const e of r){const t=d(e[0],e[1],this.width);s.push(t)}this.field=u(this.height,this.width,this.numMines,s);for(let e=0;e<this.height;e++)for(let t=0;t<this.width;t++){const i=this.$refs.cells[d(t,e,this.width)];i.isMine=this.field[e][t]}for(let e=0;e<this.height;e++)for(let t=0;t<this.width;t++){const i=this.$refs.cells[d(t,e,this.width)];i.label=this.assignLabel(t,e)}i="0",this.firstClickHappened=!0}if(t){console.log("SECOND IF BLOCK: "+t),this.gameStatus="loss",this.cellsLocked=!0;const e=this.$refs.cells;e.forEach((function(e){e.isMine&&!e.revealed&&(e.revealed=!0)}))}else if(this.numRevealed+=1,"0"===i){const t=h(e[0],e[1],this.width,this.height),i=this;t.forEach((function(e){const t=d(e[0],e[1],i.width),n=i.$refs.cells[t];n.reveal()}))}},updateMarked(e){this.$refs.toolbar.updateFlags(e)},startGame(e=this.width,t=this.height,i=this.numMines,n=this.cellSideLength){this.width=e,this.height=t,this.numMines=i,this.cellSideLength=n,this.numRevealed=0,this.gameStatus="",this.cellsLocked=!1,this.firstClickHappened=!1,this.$refs.toolbar.numFlags=this.numMines;const s=this.$refs.cells;s.forEach((function(e){e.revealed=!1,e.marked=!1}))}}};const O=(0,m.Z)(D,[["render",a],["__scopeId","data-v-37cfc9a4"]]);var j=O,F={components:{MinesweeperGame:j}};const E=(0,m.Z)(F,[["render",o]]);var $=E;const R=(0,n.ri)($);R.mount("#app"),R.component("minesweeper-game",j),R.component("minesweeper-cell",w),R.component("game-toolbar",M),R.component("game-end",_)}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(t,n,s,r){if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],s=e[d][1],r=e[d][2];for(var l=!0,a=0;a<n.length;a++)(!1&r||o>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[a])}))?n.splice(a--,1):(l=!1,r<o&&(o=r));if(l){e.splice(d--,1);var h=s();void 0!==h&&(t=h)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,s,r]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,o=n[0],l=n[1],a=n[2],h=0;if(o.some((function(t){return 0!==e[t]}))){for(s in l)i.o(l,s)&&(i.m[s]=l[s]);if(a)var d=a(i)}for(t&&t(n);h<o.length;h++)r=o[h],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=self["webpackChunkvue_minesweeper"]=self["webpackChunkvue_minesweeper"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(3122)}));n=i.O(n)})();
//# sourceMappingURL=app.88afc961.js.map